# hh.ru_pars

Парсер вакансий и резюме с hh.ru с простым веб-интерфейсом.

## Возможности
* Парсинг резюме по ключевому слову с сохранением результатов в `resume.db` и отображением в браузере в режиме реального времени.
* Получение вакансий по названию должности через API hh.ru. Данные сохраняются в `vacancy.db` и выводятся на странице.
* Встроенная веб-страница на Flask для запуска парсинга и просмотра найденных записей.

## Быстрый старт с Docker
1. Соберите и запустите сервисы:
   ```bash
   docker compose up --build
   ```
2. Откройте в браузере [http://localhost:5000](http://localhost:5000) и используйте форму для поиска резюме или вакансий.

## Запуск без Docker
1. Установите зависимости:
   ```bash
   pip install flask requests beautifulsoup4 pytz lxml
   ```
2. Запустите приложение:
   ```bash
   python app.py
   ```
   Интерфейс будет доступен по адресу [http://localhost:5000](http://localhost:5000).

## API
Помимо веб-страницы, доступен простой REST API:

| Метод | Путь | Описание |
|-------|------|----------|
| `POST` | `/parse_resumes` | `search_text` — строка поиска резюме. |
| `POST` | `/fetch_vacancies` | `job_title` — название должности для поиска вакансий. |
| `GET` | `/status` | Возвращает состояние задач и уже собранные результаты. |
| `GET` | `/stream` | Серверные события с новыми резюме и вакансиями. |

## Хранилище данных
Результаты сохраняются в SQLite‑файлы `resume.db` и `vacancy.db`. Записи старше 30 дней автоматически удаляются.

## Примечания
* Проект предназначен для демонстрационных целей и использует публичный API hh.ru. Перед массовым использованием убедитесь, что это не нарушает правила сервиса.
* База данных лежит в директории репозитория и сохраняется между запусками контейнеров.
